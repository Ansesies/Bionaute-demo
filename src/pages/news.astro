---
import Layout from '../layouts/Layout.astro';
---

<Layout>
  <div class="pt-16 md:pt-20"> <!-- Espacio para el header fijo -->
    <!-- Hero Section -->
    <section id="news-header" class="bg-gradient-to-br from-emerald-900 to-teal-800 py-16 md:py-24">
      <div class="container mx-auto px-4 md:px-6 text-center">
        <h1 class="text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-8 animate-fadeIn opacity-0" style="animation: fadeIn 0.8s ease-out forwards 0.2s;">
          Noticias y Actualidad
        </h1>
        <div class="max-w-3xl mx-auto">
          <p class="text-lg md:text-xl text-green-50 mb-6 animate-fadeIn opacity-0" style="animation: fadeIn 0.8s ease-out forwards 0.4s;">
            Mantente al día con las últimas innovaciones, investigaciones y desarrollos en biotecnología agrícola que están transformando el futuro de la agricultura sostenible.
          </p>
        </div>
        <div class="w-24 h-1 bg-gradient-to-r from-green-300 to-teal-400 mx-auto animate-fadeIn opacity-0" style="animation: fadeIn 0.8s ease-out forwards 0.6s;"></div>
      </div>
    </section>

    <!-- Filtros de Categorías -->
    <section class="bg-white py-8 border-b border-gray-100">
      <div class="container mx-auto px-4 md:px-6">
        <div class="flex flex-wrap justify-center gap-4 filter-buttons">
          <button class="filter-btn active px-6 py-2 rounded-full border-2 border-emerald-600 bg-emerald-600 text-white font-medium transition-all duration-300 hover:shadow-lg" data-filter="all">
            Todas las noticias
          </button>
          <button class="filter-btn px-6 py-2 rounded-full border-2 border-emerald-600 text-emerald-700 font-medium transition-all duration-300 hover:bg-emerald-50" data-filter="investigacion">
            Investigación
          </button>
          <button class="filter-btn px-6 py-2 rounded-full border-2 border-emerald-600 text-emerald-700 font-medium transition-all duration-300 hover:bg-emerald-50" data-filter="productos">
            Productos
          </button>
          <button class="filter-btn px-6 py-2 rounded-full border-2 border-emerald-600 text-emerald-700 font-medium transition-all duration-300 hover:bg-emerald-50" data-filter="eventos">
            Eventos
          </button>
          <button class="filter-btn px-6 py-2 rounded-full border-2 border-emerald-600 text-emerald-700 font-medium transition-all duration-300 hover:bg-emerald-50" data-filter="sostenibilidad">
            Sostenibilidad
          </button>
        </div>
      </div>
    </section>

    <!-- Artículo Destacado -->
    <section class="bg-gray-50 py-16">
      <div class="container mx-auto px-4 md:px-6">
        <div class="text-center mb-12 section-header">
          <h2 class="text-3xl md:text-4xl font-bold text-emerald-800 mb-4">Artículo Destacado</h2>
          <div class="w-16 h-1 bg-gradient-to-r from-emerald-600 to-teal-500 mx-auto"></div>
        </div>
        
        <div class="featured-article bg-white rounded-2xl shadow-xl overflow-hidden max-w-6xl mx-auto">
          <div class="md:flex">
            <div class="md:w-1/2">
              <div class="h-64 md:h-full bg-gradient-to-br from-emerald-600/20 to-teal-700/30 relative overflow-hidden">
                <div class="absolute inset-0 flex items-center justify-center">
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-24 w-24 text-emerald-700" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z" />
                  </svg>
                </div>
              </div>
            </div>
            <div class="md:w-1/2 p-8 md:p-12">
              <div class="flex items-center mb-4">
                <span class="px-3 py-1 bg-emerald-100 text-emerald-700 rounded-full text-sm font-medium">Investigación</span>
                <span class="ml-4 text-gray-500 text-sm">28 de Mayo, 2025</span>
              </div>
              <h3 class="text-2xl md:text-3xl font-bold text-emerald-800 mb-4">
                Revolucionario Biofungicida Reduce el Uso de Químicos en un 80%
              </h3>
              <p class="text-gray-600 text-lg leading-relaxed mb-6">
                Nuestro último desarrollo en biotecnología presenta un biofungicida innovador que no solo protege los cultivos de manera más efectiva, sino que también reduce significativamente la dependencia de productos químicos tradicionales, marcando un hito en la agricultura sostenible.
              </p>
              <a href="#" class="inline-flex items-center px-6 py-3 bg-gradient-to-r from-emerald-600 to-teal-500 text-white font-semibold rounded-lg hover:from-emerald-700 hover:to-teal-600 transition-all duration-300 shadow-lg hover:shadow-emerald-500/30">
                Leer artículo completo
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                </svg>
              </a>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Grid de Noticias -->
    <section class="py-16">
      <div class="container mx-auto px-4 md:px-6">
        <div class="text-center mb-12 section-header">
          <h2 class="text-3xl md:text-4xl font-bold text-emerald-800 mb-4">Últimas Noticias</h2>
          <div class="w-16 h-1 bg-gradient-to-r from-emerald-600 to-teal-500 mx-auto mb-6"></div>
          <p class="text-lg text-gray-600 max-w-2xl mx-auto">
            Explora las últimas innovaciones y desarrollos que están dando forma al futuro de la biotecnología agrícola.
          </p>
        </div>

        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8 news-grid">
          <!-- Noticia 1 -->
          <article class="news-card bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-2xl transform hover:-translate-y-2 transition-all duration-300" data-category="productos">
            <div class="h-48 bg-gradient-to-br from-teal-600/20 to-emerald-700/30 relative overflow-hidden">
              <div class="absolute inset-0 flex items-center justify-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 text-emerald-700" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
              </div>
            </div>
            <div class="p-6">
              <div class="flex items-center mb-3">
                <span class="px-3 py-1 bg-teal-100 text-teal-700 rounded-full text-sm font-medium">Productos</span>
                <span class="ml-auto text-gray-500 text-sm">25 de Mayo, 2025</span>
              </div>
              <h3 class="text-xl font-bold text-emerald-800 mb-3">
                Nuevo Bioestimulante Aumenta el Rendimiento de Cultivos en un 35%
              </h3>
              <p class="text-gray-600 leading-relaxed mb-4">
                Presentamos nuestro innovador bioestimulante que mejora significativamente la resistencia de las plantas al estrés hídrico y nutricional.
              </p>
              <a href="#" class="text-emerald-600 font-semibold hover:text-emerald-700 transition-colors duration-300 flex items-center">
                Leer más
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                </svg>
              </a>
            </div>
          </article>

          <!-- Noticia 2 -->
          <article class="news-card bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-2xl transform hover:-translate-y-2 transition-all duration-300" data-category="eventos">
            <div class="h-48 bg-gradient-to-br from-emerald-600/20 to-teal-700/30 relative overflow-hidden">
              <div class="absolute inset-0 flex items-center justify-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 text-emerald-700" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
                </svg>
              </div>
            </div>
            <div class="p-6">
              <div class="flex items-center mb-3">
                <span class="px-3 py-1 bg-emerald-100 text-emerald-700 rounded-full text-sm font-medium">Eventos</span>
                <span class="ml-auto text-gray-500 text-sm">22 de Mayo, 2025</span>
              </div>
              <h3 class="text-xl font-bold text-emerald-800 mb-3">
                Bionaute Participa en el Congreso Internacional de Agricultura Sostenible
              </h3>
              <p class="text-gray-600 leading-relaxed mb-4">
                Nuestro equipo de investigadores presentará los últimos avances en biotecnología aplicada a la protección de cultivos.
              </p>
              <a href="#" class="text-emerald-600 font-semibold hover:text-emerald-700 transition-colors duration-300 flex items-center">
                Leer más
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                </svg>
              </a>
            </div>
          </article>

          <!-- Noticia 3 -->
          <article class="news-card bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-2xl transform hover:-translate-y-2 transition-all duration-300" data-category="sostenibilidad">
            <div class="h-48 bg-gradient-to-br from-teal-600/20 to-emerald-700/30 relative overflow-hidden">
              <div class="absolute inset-0 flex items-center justify-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 text-emerald-700" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h.5A2.5 2.5 0 0020 5.5v-1.65" />
                </svg>
              </div>
            </div>
            <div class="p-6">
              <div class="flex items-center mb-3">
                <span class="px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm font-medium">Sostenibilidad</span>
                <span class="ml-auto text-gray-500 text-sm">20 de Mayo, 2025</span>
              </div>
              <h3 class="text-xl font-bold text-emerald-800 mb-3">
                Proyecto Piloto Reduce Emisiones de CO₂ en Agricultura en un 45%
              </h3>
              <p class="text-gray-600 leading-relaxed mb-4">
                Iniciativa colaborativa con agricultores locales demuestra el impacto positivo de nuestras soluciones biotecnológicas en el medio ambiente.
              </p>
              <a href="#" class="text-emerald-600 font-semibold hover:text-emerald-700 transition-colors duration-300 flex items-center">
                Leer más
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                </svg>
              </a>
            </div>
          </article>

          <!-- Noticia 4 -->
          <article class="news-card bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-2xl transform hover:-translate-y-2 transition-all duration-300" data-category="investigacion">
            <div class="h-48 bg-gradient-to-br from-emerald-600/20 to-teal-700/30 relative overflow-hidden">
              <div class="absolute inset-0 flex items-center justify-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 text-emerald-700" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
                </svg>
              </div>
            </div>
            <div class="p-6">
              <div class="flex items-center mb-3">
                <span class="px-3 py-1 bg-emerald-100 text-emerald-700 rounded-full text-sm font-medium">Investigación</span>
                <span class="ml-auto text-gray-500 text-sm">18 de Mayo, 2025</span>
              </div>
              <h3 class="text-xl font-bold text-emerald-800 mb-3">
                Avances en Microbiología Aplicada Revolucionan el Control de Plagas
              </h3>
              <p class="text-gray-600 leading-relaxed mb-4">
                Nuestro equipo de investigación desarrolla nuevos microorganismos beneficiosos que protegen naturalmente los cultivos de plagas específicas.
              </p>
              <a href="#" class="text-emerald-600 font-semibold hover:text-emerald-700 transition-colors duration-300 flex items-center">
                Leer más
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                </svg>
              </a>
            </div>
          </article>

          <!-- Noticia 5 -->
          <article class="news-card bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-2xl transform hover:-translate-y-2 transition-all duration-300" data-category="productos">
            <div class="h-48 bg-gradient-to-br from-teal-600/20 to-emerald-700/30 relative overflow-hidden">
              <div class="absolute inset-0 flex items-center justify-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 text-emerald-700" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M13 10V3L4 14h7v7l9-11h-7z" />
                </svg>
              </div>
            </div>
            <div class="p-6">
              <div class="flex items-center mb-3">
                <span class="px-3 py-1 bg-teal-100 text-teal-700 rounded-full text-sm font-medium">Productos</span>
                <span class="ml-auto text-gray-500 text-sm">15 de Mayo, 2025</span>
              </div>
              <h3 class="text-xl font-bold text-emerald-800 mb-3">
                Lanzamiento de BioPro: Solución Integral para Cultivos Orgánicos
              </h3>
              <p class="text-gray-600 leading-relaxed mb-4">
                Nueva línea de productos biotecnológicos especialmente diseñada para agricultores que buscan certificaciones orgánicas sin comprometer la productividad.
              </p>
              <a href="#" class="text-emerald-600 font-semibold hover:text-emerald-700 transition-colors duration-300 flex items-center">
                Leer más
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                </svg>
              </a>
            </div>
          </article>

          <!-- Noticia 6 -->
          <article class="news-card bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-2xl transform hover:-translate-y-2 transition-all duration-300" data-category="eventos">
            <div class="h-48 bg-gradient-to-br from-emerald-600/20 to-teal-700/30 relative overflow-hidden">
              <div class="absolute inset-0 flex items-center justify-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 text-emerald-700" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z" />
                </svg>
              </div>
            </div>
            <div class="p-6">
              <div class="flex items-center mb-3">
                <span class="px-3 py-1 bg-emerald-100 text-emerald-700 rounded-full text-sm font-medium">Eventos</span>
                <span class="ml-auto text-gray-500 text-sm">12 de Mayo, 2025</span>
              </div>
              <h3 class="text-xl font-bold text-emerald-800 mb-3">
                Webinar Gratuito: Futuro de la Biotecnología Agrícola
              </h3>
              <p class="text-gray-600 leading-relaxed mb-4">
                Únete a nuestros expertos en una sesión interactiva sobre las tendencias emergentes y oportunidades en biotecnología para la agricultura del mañana.
              </p>
              <a href="#" class="text-emerald-600 font-semibold hover:text-emerald-700 transition-colors duration-300 flex items-center">
                Leer más
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                </svg>
              </a>
            </div>
          </article>
        </div>

        <!-- Botón Load More -->
        <div class="text-center mt-12 load-more-section">
          <button class="px-8 py-3 border-2 border-emerald-600 text-emerald-700 font-semibold rounded-lg hover:bg-emerald-50 transform hover:-translate-y-1 transition-all duration-300">
            Cargar más noticias
          </button>
        </div>
      </div>
    </section>

    <!-- Newsletter Subscription -->
    <section class="bg-gradient-to-br from-emerald-900 to-teal-800 py-16">
      <div class="container mx-auto px-4 md:px-6">
        <div class="max-w-4xl mx-auto text-center newsletter-section">
          <h2 class="text-3xl md:text-4xl font-bold text-white mb-6">
            Mantente Informado
          </h2>
          <p class="text-emerald-100 text-lg mb-8 max-w-2xl mx-auto">
            Recibe las últimas noticias e innovaciones en biotecnología agrícola.
          </p>
          
        </div>
      </div>
    </section>
  </div>
</Layout>

<style>
  /* Animaciones para la página News */
  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }
  
  @keyframes fadeUp {
    from { opacity: 0; transform: translateY(40px); }
    to { opacity: 1; transform: translateY(0); }
  }
  
  @keyframes slideInLeft {
    from { opacity: 0; transform: translateX(-50px); }
    to { opacity: 1; transform: translateX(0); }
  }

  /* Estados iniciales para animaciones */
  .section-header {
    opacity: 0;
    transform: translateY(30px);
    transition: all 0.8s cubic-bezier(0.22, 1, 0.36, 1);
  }
  
  .filter-buttons {
    opacity: 0;
    transform: translateY(20px);
    transition: all 0.6s cubic-bezier(0.22, 1, 0.36, 1);
  }
  
  .featured-article {
    opacity: 0;
    transform: translateY(50px);
    transition: all 0.8s cubic-bezier(0.22, 1, 0.36, 1);
  }
  
  .news-card {
    opacity: 0;
    transform: translateY(40px);
    transition: all 0.6s cubic-bezier(0.22, 1, 0.36, 1);
  }
  
  .load-more-section {
    opacity: 0;
    transform: translateY(30px);
    transition: all 0.8s cubic-bezier(0.22, 1, 0.36, 1);
  }
  
  .newsletter-section {
    opacity: 0;
    transform: translateY(40px);
    transition: all 0.8s cubic-bezier(0.22, 1, 0.36, 1);
  }

  /* Estados animados */
  .section-header.in-view {
    opacity: 1;
    transform: translateY(0);
  }
  
  .filter-buttons.in-view {
    opacity: 1;
    transform: translateY(0);
  }
  
  .featured-article.in-view {
    opacity: 1;
    transform: translateY(0);
  }
  
  .news-card.in-view {
    opacity: 1;
    transform: translateY(0);
  }
  
  .load-more-section.in-view {
    opacity: 1;
    transform: translateY(0);
  }
  
  .newsletter-section.in-view {
    opacity: 1;
    transform: translateY(0);
  }

  /* Animaciones secuenciales para tarjetas de noticias */
  .news-card:nth-child(1).in-view { transition-delay: 0s; }
  .news-card:nth-child(2).in-view { transition-delay: 0.15s; }
  .news-card:nth-child(3).in-view { transition-delay: 0.3s; }
  .news-card:nth-child(4).in-view { transition-delay: 0.45s; }
  .news-card:nth-child(5).in-view { transition-delay: 0.6s; }
  .news-card:nth-child(6).in-view { transition-delay: 0.75s; }

  /* Efectos hover mejorados */
  .news-card:hover {
    box-shadow: 0 25px 50px -12px rgba(16, 185, 129, 0.25);
  }
  
  /* Animación para filtros */
  .filter-btn {
    position: relative;
    overflow: hidden;
  }
  
  .filter-btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
    transition: left 0.5s;
  }
  
  .filter-btn:hover::before {
    left: 100%;
  }
  
  .filter-btn.active {
    box-shadow: 0 4px 15px rgba(16, 185, 129, 0.3);
  }

  /* Transiciones suaves para filtros */
  .news-card {
    transition: all 0.6s cubic-bezier(0.22, 1, 0.36, 1);
  }
  
  .news-card.filtered-out {
    opacity: 0;
    transform: scale(0.9) translateY(20px);
    pointer-events: none;
  }

  /* Efecto shimmer para artículo destacado */
  .featured-article {
    position: relative;
    overflow: hidden;
  }
  
  .featured-article::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(45deg, transparent 30%, rgba(255,255,255,0.1) 50%, transparent 70%);
    transition: left 0.7s;
    z-index: 1;
  }
  
  .featured-article:hover::before {
    left: 100%;
  }
</style>

<script>
  function initNewsAnimations() {
    // Configurar Intersection Observer para animaciones de scroll
    const observerOptions = {
      threshold: 0.1,
      rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          entry.target.classList.add('in-view');
          
          // Para elementos con animación secuencial
          if (entry.target.classList.contains('news-grid')) {
            const newsCards = entry.target.querySelectorAll('.news-card');
            newsCards.forEach((card) => {
              card.classList.add('in-view');
            });
          }
          
          // No volver a observar el elemento una vez animado
          observer.unobserve(entry.target);
        }
      });
    }, observerOptions);

    // Observar todos los elementos animables
    const animatedElements = document.querySelectorAll(
      '.section-header, .filter-buttons, .featured-article, .news-card, .load-more-section, .newsletter-section'
    );
    
    animatedElements.forEach((el) => {
      observer.observe(el);
    });

    // Funcionalidad de filtros
    const filterButtons = document.querySelectorAll('.filter-btn');
    const newsCards = document.querySelectorAll('.news-card') as NodeListOf<HTMLElement>;

    filterButtons.forEach(button => {
      button.addEventListener('click', () => {
        // Remover clase active de todos los botones
        filterButtons.forEach(btn => {
          btn.classList.remove('active');
          btn.classList.remove('bg-emerald-600', 'text-white');
          btn.classList.add('text-emerald-700');
        });
        
        // Añadir clase active al botón clickeado
        button.classList.add('active');
        button.classList.add('bg-emerald-600', 'text-white');
        button.classList.remove('text-emerald-700');
        
        const filterValue = button.getAttribute('data-filter');
        
        // Filtrar tarjetas
        newsCards.forEach(card => {
          if (filterValue === 'all' || card.getAttribute('data-category') === filterValue) {
            card.classList.remove('filtered-out');
            card.style.display = 'block';
          } else {
            card.classList.add('filtered-out');
            setTimeout(() => {
              if (card.classList.contains('filtered-out')) {
                card.style.display = 'none';
              }
            }, 300);
          }
        });
      });
    });
  }

  // Inicializar animaciones cuando el DOM esté listo
  document.addEventListener('DOMContentLoaded', initNewsAnimations);
  
  // También inicializar en caso de navegación con View Transitions
  document.addEventListener('astro:page-load', initNewsAnimations);
</script>